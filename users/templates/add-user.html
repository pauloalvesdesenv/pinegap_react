{% extends 'base.html' %}
{% block content %}
{% load pinegap_tags %}

<div class="container-fluid" style="padding:0;">

  <section class="content-header">
      <h1>
        Usuários
        <small>Adicionar Novo Usuário</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="/"><i class="fas fa-gear"></i> Configurações</a></li>
        <li><a href="/users/list"><i class="fas fa-user"></i> Usuários</a></li>
        <li class="active"> Adicionar novo usuário</li>
      </ol>
    </section>

<div class="container-fluid" style="padding:15px 15px;">

  <form action="/users/add" method="post" class="form-horizontal" id="form_pinegap_add_user" style="margin-top:10px; margin-left:0;">

    <div style="visibility:hidden;pointer-events:none;width:0;height:0;position:absolute;top:-9999px;left:-9999px;z-index:-1;" tabindex="-1">
      <input type="text" class="instance" name="Instância PineGap" value="" />
    </div>

    <legend>Adicionar Novo Usu&aacute;rio</legend>
      {% csrf_token %}
     {% for field in form %}
          {% if field.errors %}
              <div class="form-group has-error">
                  <label class="col-sm-2 control-label" for="id_{{ field.name }}">{{ field.label }}</label>
                  <div class="col-sm-10">
                      {{ field }}
                      <span class="help-block">
                          {% for error in  field.errors %}{{ error }}{% endfor %}
                      </span>
                  </div>
              </div>
          {% elif not field.is_hidden %}
              <div class="form-group">
                  <label class="col-sm-2 control-label" for="id_{{ field.name }}">{{ field.label }}</label>
                  <div class="col-sm-10">
                      {{ field }}
                      {% if field.help_text %}

                           {% if field.name == 'password1' %}
                           <p class="help-block"><small>
                             <ul><li>Sua senha não pode ser tão parecida com suas outras informações pessoais.</li><li>Sua senha precisa conter pelo menos 8 caracteres.</li><li>Sua senha não pode ser uma senha habitualmente utilizada.</li><li>Sua senha não pode ser inteiramente numérica.</li></ul>
                           </small></p>
                           {% else %}
                           <p class="help-block"><small>{{ field.help_text }}</small></p>
                           {% endif %}
                      {% endif %}
                  </div>
              </div>
          {% elif not field.is_hidden %}
              <div class="form-group">
                  <label class="col-sm-2 control-label" for="id_{{ field.name }}">{{ field.label }}</label>
                  <div class="col-sm-10">
                      {{ field }}
                      {% if field.help_text %}
                           <p class="help-block"><small>{{ field.help_text }}</small></p>
                      {% endif %}
                  </div>
              </div>
          {% elif not field.is_hidden %}
              <div class="form-group">
                  <label class="col-sm-2 control-label" for="id_{{ field.name }}">{{ field.label }}</label>
                  <div class="col-sm-10">
                      {{ field }}
                      {% if field.help_text %}
                           <p class="help-block"><small>{{ field.help_text }}</small></p>
                      {% endif %}
                  </div>
              </div>
          {% elif not field.is_hidden %}
              <div class="form-group">
                  <label class="col-sm-2 control-label" for="id_{{ field.name }}">{{ field.label }}</label>
                  <div class="col-sm-10">
                      {{ field }}
                      {% if field.help_text %}
                           <p class="help-block"><small>{{ field.help_text }}</small></p>
                      {% endif %}
                  </div>
              </div>
          {% elif not field.is_hidden %}
              <div class="form-group">
                  <label class="col-sm-2 control-label" for="id_{{ field.name }}">{{ field.label }}</label>
                  <div class="col-sm-10">
                      {{ field }}
                      {% if field.help_text %}
                           <p class="help-block"><small>{{ field.help_text }}</small></p>
                      {% endif %}
                  </div>
              </div>
          {% endif %}
      {% endfor %}
      <div class="form-group">
        <button type="submit" class="btn btn-primary">Adicionar</button>
        <a href="/settings/#users" class="btn btn-primary">Cancelar</a>
      </div>
  </form>
  </div>
</div>

<script type="text/javascript">
  var instance = window.location.host.split('.')[1] ? window.location.host.split('.')[0] : false;
  $('.instance').val(instance+'.pinegap.io');
</script>



{% endblock %}
